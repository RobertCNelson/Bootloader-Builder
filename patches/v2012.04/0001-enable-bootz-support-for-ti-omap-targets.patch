From 7edad9ad58a2145e5043b161bd99cfbe8d95a7f4 Mon Sep 17 00:00:00 2001
From: Robert Nelson <robertcnelson@gmail.com>
Date: Sun, 1 Apr 2012 11:34:53 -0500
Subject: [PATCH] enable bootz support for ti/omap targets

Signed-off-by: Robert Nelson <robertcnelson@gmail.com>
---
 include/configs/am335x_evm.h   |    2 ++
 include/configs/am3517_crane.h |    2 ++
 include/configs/igep0020.h     |    2 ++
 include/configs/omap3_beagle.h |    2 ++
 include/configs/omap4_common.h |    2 ++
 5 files changed, 10 insertions(+), 0 deletions(-)

diff --git a/include/configs/am335x_evm.h b/include/configs/am335x_evm.h
index d0fbc88..7fc7990 100644
--- a/include/configs/am335x_evm.h
+++ b/include/configs/am335x_evm.h
@@ -81,6 +81,8 @@
 #define CONFIG_DOS_PARTITION
 #define CONFIG_CMD_FAT
 #define CONFIG_CMD_EXT2
+#define CONFIG_CMD_BOOTZ	/* bootz zImage support		*/
+#define CONFIG_SUPPORT_RAW_INITRD	/* bootz raw initrd support */
 
  /* Physical Memory Map */
 #define CONFIG_NR_DRAM_BANKS		1		/*  1 bank of DRAM */
diff --git a/include/configs/am3517_crane.h b/include/configs/am3517_crane.h
index b0dd2f0..a2eb7ca 100644
--- a/include/configs/am3517_crane.h
+++ b/include/configs/am3517_crane.h
@@ -144,6 +144,8 @@
 
 #define CONFIG_CMD_I2C		/* I2C serial bus support	*/
 #define CONFIG_CMD_MMC		/* MMC support			*/
+#define CONFIG_CMD_BOOTZ	/* bootz zImage support		*/
+#define CONFIG_SUPPORT_RAW_INITRD	/* bootz raw initrd support */
 #define CONFIG_CMD_NAND		/* NAND support			*/
 #define CONFIG_CMD_DHCP
 #define CONFIG_CMD_PING
diff --git a/include/configs/igep0020.h b/include/configs/igep0020.h
index c2fcdff..8e17c59 100644
--- a/include/configs/igep0020.h
+++ b/include/configs/igep0020.h
@@ -102,6 +102,8 @@
 #define CONFIG_CMD_FAT		/* FAT support			*/
 #define CONFIG_CMD_I2C		/* I2C serial bus support	*/
 #define CONFIG_CMD_MMC		/* MMC support			*/
+#define CONFIG_CMD_BOOTZ	/* bootz zImage support		*/
+#define CONFIG_SUPPORT_RAW_INITRD	/* bootz raw initrd support */
 #define CONFIG_CMD_ONENAND	/* ONENAND support		*/
 #define CONFIG_CMD_NET		/* bootp, tftpboot, rarpboot	*/
 #define CONFIG_CMD_DHCP
diff --git a/include/configs/omap3_beagle.h b/include/configs/omap3_beagle.h
index d3a0122..912991c 100644
--- a/include/configs/omap3_beagle.h
+++ b/include/configs/omap3_beagle.h
@@ -149,6 +149,8 @@
 #define CONFIG_CMD_CACHE
 #define CONFIG_CMD_EXT2		/* EXT2 Support			*/
 #define CONFIG_CMD_FAT		/* FAT support			*/
+#define CONFIG_CMD_BOOTZ	/* bootz zImage support		*/
+#define CONFIG_SUPPORT_RAW_INITRD	/* bootz raw initrd support */
 #define CONFIG_CMD_JFFS2	/* JFFS2 Support		*/
 #define CONFIG_CMD_MTDPARTS	/* Enable MTD parts commands */
 #define CONFIG_MTD_DEVICE	/* needed for mtdparts commands */
diff --git a/include/configs/omap4_common.h b/include/configs/omap4_common.h
index a989721..21e0f60 100644
--- a/include/configs/omap4_common.h
+++ b/include/configs/omap4_common.h
@@ -133,6 +133,8 @@
 #define CONFIG_CMD_FAT		/* FAT support                  */
 #define CONFIG_CMD_I2C		/* I2C serial bus support	*/
 #define CONFIG_CMD_MMC		/* MMC support                  */
+#define CONFIG_CMD_BOOTZ	/* bootz zImage support		*/
+#define CONFIG_SUPPORT_RAW_INITRD	/* bootz raw initrd support */
 
 /* Disabled commands */
 #undef CONFIG_CMD_NET
-- 
1.7.9.1

